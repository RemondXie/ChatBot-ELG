{"ast":null,"code":"import React,{useState}from'react';import'./chat.css';// Import styling for chat page\nimport axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Chat=()=>{const[messages,setMessages]=useState([{text:\"Welcome! I'm here to assist you with any medical questions you might have.\",sender:\"bot\"}]);const[userInput,setUserInput]=useState(\"\");const handleSendMessage=async()=>{if(userInput.trim()){const newMessages=[...messages,{text:userInput,sender:\"user\"}];setMessages(newMessages);setUserInput(\"\");try{const response=await axios.post(\"http://localhost:4000/chat\",{messages:newMessages});const botResponse=response.data.botResponse;setMessages(prevMessages=>[...prevMessages,{text:botResponse.content,sender:\"bot\"}]);}catch(error){console.error(\"Error calling backend API:\",error);setMessages(prevMessages=>[...prevMessages,{text:\"Sorry, an error occurred while processing your message.\",sender:\"bot\"}]);}}};// Handle the Enter key press\nconst handleKeyPress=e=>{if(e.key==='Enter'){handleSendMessage();}};// Reset chat\nconst handleResetChat=()=>{setMessages([{text:\"Welcome! I'm here to assist you with any medical questions you might have. Please provide your name and age. Say GOODBYE if you want to quit.\",sender:\"bot\"}]);// Reset to initial state\nsetUserInput(\"\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"chat\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"welcome-message\",children:\"Welcome! I'm here to assist you with any medical questions you might have. Please provide your name and age. Say GOODBYE if you want to quit.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"chat-box\",children:messages.map((message,index)=>/*#__PURE__*/_jsxs(\"div\",{className:message.sender,children:[/*#__PURE__*/_jsx(\"strong\",{children:message.sender===\"user\"?\"Patient:\":\"Chatbot:\"}),/*#__PURE__*/_jsx(\"p\",{children:message.text})]},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:userInput,onChange:e=>setUserInput(e.target.value),onKeyDown:handleKeyPress// Add the key press event listener\n,placeholder:\"Type your message...\"}),/*#__PURE__*/_jsx(\"button\",{className:\"send-chat-button\",onClick:handleSendMessage,children:\"Send\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"reset-container\",children:/*#__PURE__*/_jsx(\"button\",{className:\"reset-chat-button\",onClick:handleResetChat,children:\"Reset Chat\"})})]});};export default Chat;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","Chat","messages","setMessages","text","sender","userInput","setUserInput","handleSendMessage","trim","newMessages","response","post","botResponse","data","prevMessages","content","error","console","handleKeyPress","e","key","handleResetChat","className","children","map","message","index","type","value","onChange","target","onKeyDown","placeholder","onClick"],"sources":["D:/Medical chatbot/Medico-Assistance-OpenAI-ChatBot-Using-Python-main/textbase/textbase/Chatbot to send/src/chat.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './chat.css';  // Import styling for chat page\r\nimport axios from \"axios\";\r\n\r\nconst Chat = () => {\r\n  const [messages, setMessages] = useState([\r\n    { text: \"Welcome! I'm here to assist you with any medical questions you might have.\", sender: \"bot\" },\r\n  ]);\r\n  const [userInput, setUserInput] = useState(\"\");\r\n\r\n  const handleSendMessage = async () => {\r\n    if (userInput.trim()) {\r\n\r\n      const newMessages = [...messages, { text: userInput, sender: \"user\" }];\r\n\r\n      setMessages(newMessages);\r\n      setUserInput(\"\");\r\n\r\n      try {\r\n        const response = await axios.post(\"http://localhost:4000/chat\", { messages: newMessages });\r\n        const botResponse = response.data.botResponse;\r\n        setMessages((prevMessages) => [...prevMessages, { text: botResponse.content, sender: \"bot\" }]);\r\n      } catch (error) {\r\n        console.error(\"Error calling backend API:\", error);\r\n        setMessages((prevMessages) => [\r\n          ...prevMessages,\r\n          { text: \"Sorry, an error occurred while processing your message.\", sender: \"bot\" },\r\n        ]);\r\n      }\r\n    }\r\n  };\r\n  // Handle the Enter key press\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter') {\r\n      handleSendMessage();\r\n    }\r\n  };\r\n\r\n  // Reset chat\r\n  const handleResetChat = () => {\r\n    setMessages([{ text: \"Welcome! I'm here to assist you with any medical questions you might have. Please provide your name and age. Say GOODBYE if you want to quit.\", sender: \"bot\" }]); // Reset to initial state\r\n    setUserInput(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"chat\">\r\n      {/* Displaying the welcome message with a larger font */}\r\n      <div className=\"welcome-message\">\r\n        Welcome! I'm here to assist you with any medical questions you might have. Please provide your name and age. Say GOODBYE if you want to quit.\r\n      </div>\r\n\r\n      <div className=\"chat-box\">\r\n        {messages.map((message, index) => (\r\n          <div key={index} className={message.sender}>\r\n            <strong>{message.sender === \"user\" ? \"Patient:\" : \"Chatbot:\"}</strong>\r\n            <p>{message.text}</p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"input-container\">\r\n        <input\r\n          type=\"text\"\r\n          value={userInput}\r\n          onChange={(e) => setUserInput(e.target.value)}\r\n          onKeyDown={handleKeyPress}  // Add the key press event listener\r\n          placeholder=\"Type your message...\"\r\n        />\r\n        <button className=\"send-chat-button\" onClick={handleSendMessage}>Send</button>\r\n      </div>\r\n\r\n      {/* Reset Button outside the input container */}\r\n      <div className=\"reset-container\">\r\n        <button className=\"reset-chat-button\" onClick={handleResetChat}>Reset Chat</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}